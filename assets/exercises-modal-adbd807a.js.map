{"version":3,"file":"exercises-modal-adbd807a.js","sources":["../../src/js/modal-menu.js","../../src/js/arrow-button.js","../../src/js/exercises-modal.js"],"sourcesContent":["\ndocument.addEventListener('DOMContentLoaded', function() {\n  const headerMenuToggle = document.querySelector('.button-header');\n  const menuModal = document.querySelector('.backdrop-menu-modal');\n  const menuModalCloseButton = document.querySelector('.menu-modal-close-button');\n  const homeButton = document.querySelector('.modal-menu-button-home');\n  const favoritesButton = document.querySelector('.modal-menu-button-favorites');\n  const headerLogo = document.querySelector('.header-logo');\n\n  // Визначення поточної сторінки\n  const currentPage = window.location.pathname;\n\n  // Відкриття модального вікна\n  headerMenuToggle.addEventListener('click', function() {\n    menuModal.classList.remove('is-hidden');\n\n    // document.body.classList.toggle('no-scroll');\n    // document.body.classList.add('position: fixed');\n    document.body.style.position = \"fixed\";\n\n   \n    headerLogo.style.display = 'none';\n\n    // Зміна стилів кнопок на рожевий background в залежності від сторінки\n    if (currentPage === '/index.html') {\n      homeButton.style.backgroundColor = 'pink';\n      favoritesButton.style.backgroundColor = '';\n    } else if (currentPage === '/favorites.html') {\n      favoritesButton.style.backgroundColor = 'pink';\n      homeButton.style.backgroundColor = '';\n    }\n  });\n\n  // Закриття модального вікна\n  menuModalCloseButton.addEventListener('click', function() {\n    menuModal.classList.add('is-hidden');\n    headerLogo.style.display = '';\n  });\n});","const upBtn = document.querySelector('.up-btn');\nupBtn.addEventListener('click', onScroll);\n\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\nfunction scrollFunction() {\n  if (window.scrollY > 1) {\n    showUpBtn();\n  } else {\n    hideUpBtn();\n  }\n}\n\nfunction onScroll() {\n  document.documentElement.scrollTop = 0;\n}\nfunction showUpBtn() {\n  upBtn.classList.remove('is-hidden');\n}\n\nfunction hideUpBtn() {\n  upBtn.classList.add('is-hidden');\n}\n","import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet openModalBtn;\nconst closeModalBtn = document.querySelector('[data-exercise-modal-close]');\nconst backdrop = document.querySelector('[data-exercise-modal]');\nconst modal = document.querySelector('.exercises-modal');\nconst modalExerciseContent = document.querySelector('.exercises-modal-content');\nconst loader = document.querySelector('.span-exercises-modal-loader');\nconst body = document.querySelector('body');\n\nconst key = 'exerciseItems';\n\nlet idExercisesModal;\n\nexport function chooseButtonForModal() {\n  openModalBtn = document.querySelectorAll('[data-exercise-modal-open]');\n  openModalBtn.forEach(e => {\n    e.addEventListener('click', event => {\n      scrollController.disabledScroll();\n      loader.classList.add('exercises-modal-loader');\n      idExercisesModal = event.currentTarget.dataset.id;\n      modalExerciseContent.innerHTML = '';\n\n      backdrop.classList.add('is-open');\n      createExersiceCard();\n      modalClose();\n    });\n  });\n}\n\n// ---------------   functions of geting datas from server   ---------------\n\nasync function getData() {\n  axios.defaults.baseURL = 'https://energyflow.b.goit.study';\n  return await axios.get(`/api/exercises/${idExercisesModal}`);\n}\n\nasync function createExersiceCard() {\n  try {\n    const response = await getData();\n    const objDataOfExercise = response.data;\n    drawExercisesModal(objDataOfExercise);\n    addAndRemoveFavorites(objDataOfExercise);\n  } catch (error) {\n    catchError(error);\n  } finally {\n    loader.classList.remove('exercises-modal-loader');\n  }\n}\n\n// ---------------   functions for drawing modal content   ---------------\n\nfunction drawExercisesModal({\n  bodyPart,\n  burnedCalories,\n  description,\n  equipmen,\n  gifUrl,\n  name,\n  popularity,\n  rating,\n  target,\n  time,\n}) {\n  let ratingOfExercise = rating.toFixed(1);\n\n  const modalContentHtml = `\n  <div class=\"exercises-modal-gif-container\">\n    <img src=\"${gifUrl}\" alt=\"${name}\"/>\n  </div>\n  <div>\n      <h4 class=\"exercises-modal-title\">${name}</h4>\n      <div class=\"exercises-modal-rating\">\n          <p class=\"exercises-modal-rating-number\">${ratingOfExercise}</p>\n          <ul class=\"exercises-modal-stars-list\">\n              <li class=\"exercises-modal-star-item\">\n                  <svg class=\"exercises-modal-star-icon\" width=\"18\" height=\"18\">\n                      <use href=\"/project-dev-hunters/assets/sprite-f8222074.svg#icon-star\"></use>\n                  </svg>\n              </li>\n              <li class=\"exercises-modal-star-item\">\n                  <svg class=\"exercises-modal-star-icon\" width=\"18\" height=\"18\">\n                      <use href=\"/project-dev-hunters/assets/sprite-f8222074.svg#icon-star\"></use>\n                  </svg>\n              </li>\n              <li class=\"exercises-modal-star-item\">\n                  <svg class=\"exercises-modal-star-icon\" width=\"18\" height=\"18\">\n                      <use href=\"/project-dev-hunters/assets/sprite-f8222074.svg#icon-star\"></use>\n                  </svg>\n              </li>\n              <li class=\"exercises-modal-star-item\">\n                  <svg class=\"exercises-modal-star-icon\" width=\"18\" height=\"18\">\n                      <use href=\"/project-dev-hunters/assets/sprite-f8222074.svg#icon-star\"></use>\n                  </svg>\n              </li>\n              <li class=\"exercises-modal-star-item\">\n                  <svg class=\"exercises-modal-star-icon\" width=\"18\" height=\"18\">\n                      <use href=\"/project-dev-hunters/assets/sprite-f8222074.svg#icon-star\"></use>\n                  </svg>\n              </li>\n          </ul>\n      </div>\n      <ul class=\"exercises-modal-block-list\">\n          <li class=\"exercises-modal-block-item\">\n              <h5 class=\"exercises-modal-block-title\">Target</h5>\n              <p class=\"exercises-modal-block-paragraf\">${target}</p>\n          </li>\n          <li class=\"exercises-modal-block-item\">\n              <h5 class=\"exercises-modal-block-title\">Body Part</h5>\n              <p class=\"exercises-modal-block-paragraf\">${bodyPart}</p>\n          </li>\n          <li class=\"exercises-modal-block-item\">\n              <h5 class=\"exercises-modal-block-title\">Equipment</h5>\n              <p class=\"exercises-modal-block-paragraf\">${equipmen}</p>\n          </li>\n          <li class=\"exercises-modal-block-item\">\n              <h5 class=\"exercises-modal-block-title\">Popular</h5>\n              <p class=\"exercises-modal-block-paragraf\">${popularity}</p>\n          </li>\n          <li class=\"exercises-modal-block-item\">\n              <h5 class=\"exercises-modal-block-title\">Burned Calories</h5>\n              <p class=\"exercises-modal-block-paragraf lowercase-text\">${burnedCalories}/${time} min</p>\n          </li>\n      </ul>\n      <div class=\"exercises-modal-container-text\">\n      <p class=\"exercises-modal-text\">${description}</p>\n      </div>\n      <div class=\"exercises-modal-buttons\">\n        <button class=\"exercises-modal-button-favorites\" type=\"button\">\n          Add to favorites\n          <svg class=\"exercises-modal-button-icon\">\n            <use href=\"/project-dev-hunters/assets/sprite-f8222074.svg#icon-heart\"></use>\n          </svg>\n      </button>\n      <button class=\"exercises-modal-button-remove hidden-button\" type=\"button\">\n        Remove from\n        <svg class=\"exercises-modal-button-icon\">\n          <use href=\"/project-dev-hunters/assets/sprite-f8222074.svg#icon-heart\"></use>\n        </svg>\n      </button>\n          <button class=\"exercises-modal-button-rating hidden-button\" type=\"button\">Give a rating</button>\n      </div>\n  </div>\n  `;\n  modalExerciseContent.insertAdjacentHTML('beforeend', modalContentHtml);\n  drawStars(Math.round(rating));\n\n  const text = document.querySelector('.exercises-modal-text');\n  const textContainer = document.querySelector(\n    '.exercises-modal-container-text'\n  );\n  if (text.clientHeight > textContainer.clientHeight) {\n    textContainer.classList.add('exercises-modal-text-scroll');\n  }\n}\n\nfunction drawStars(number) {\n  const star = modal.querySelectorAll('.exercises-modal-star-icon');\n  const arrOfStars = [...star];\n  for (let i = 0; i < number; i += 1) {\n    arrOfStars[i].classList.add('selected-stars');\n  }\n}\n\n// ---------------   functions of errors   ---------------\n\nfunction catchError(error) {\n  console.log(error);\n  const errName = error.name;\n  const errText = error.message;\n  iziToast.error({\n    position: 'topRight',\n    message: `${errName}: ${errText}.`,\n  });\n}\n\n// ---------------   functions of adding exercise to favorites   ---------------\n\nfunction addAndRemoveFavorites(obj) {\n  const addToFavoritesBtn = document.querySelector(\n    '.exercises-modal-button-favorites'\n  );\n  const removeFromFavoritesBtn = document.querySelector(\n    '.exercises-modal-button-remove'\n  );\n\n  if (localStorage.getItem(key) !== null) {\n    const itemExerciceById = JSON.parse(localStorage.getItem(key)).find(\n      item => {\n        return item._id === obj._id;\n      }\n    );\n    if (itemExerciceById) {\n      changeBtnsAddRemove();\n      removeFromFavoritesBtn.addEventListener(\n        'click',\n        removeExerciseFromFavoLS\n      );\n    } else {\n      addToFavoritesBtn.addEventListener('click', addExerciseToFavoLS);\n    }\n  } else {\n    addToFavoritesBtn.addEventListener('click', addExerciseToFavoLS);\n  }\n\n  addToFavoritesBtn.addEventListener('click', addExerciseToFavoLS);\n  removeFromFavoritesBtn.addEventListener('click', removeExerciseFromFavoLS);\n\n  function addExerciseToFavoLS() {\n    const arrFavouritesLS = JSON.parse(localStorage.getItem(key)) || [];\n    arrFavouritesLS.push(obj);\n    localStorage.setItem(key, JSON.stringify(arrFavouritesLS));\n    changeBtnsAddRemove();\n  }\n\n  function removeExerciseFromFavoLS() {\n    const arrFavouritesLS = JSON.parse(localStorage.getItem(key));\n    const itemExerciceById = arrFavouritesLS.find(item => {\n      return item._id === obj._id;\n    });\n    arrFavouritesLS.splice(arrFavouritesLS.indexOf(itemExerciceById), 1);\n    localStorage.setItem(key, JSON.stringify(arrFavouritesLS));\n    changeBtnsAddRemove();\n  }\n}\n\nfunction changeBtnsAddRemove() {\n  const addToFavoritesBtn = modal.querySelector(\n    '.exercises-modal-button-favorites'\n  );\n  const removeFromFavoritesBtn = modal.querySelector(\n    '.exercises-modal-button-remove'\n  );\n  addToFavoritesBtn.classList.toggle('hidden-button');\n  removeFromFavoritesBtn.classList.toggle('hidden-button');\n}\n\n// ---------------   functions of opening and closing of modal   ---------------\n\nfunction modalClose() {\n  document.addEventListener('keydown', closeByEsc);\n  closeModalBtn.addEventListener('click', closeByBtn);\n  backdrop.addEventListener('click', closeByBackdrop);\n\n  function closeByBtn() {\n    backdrop.classList.remove('is-open');\n    scrollController.enabledScroll();\n  }\n\n  function closeByBackdrop(event) {\n    if (!event.target.hasAttribute('data-exercise-modal')) {\n      return;\n    }\n    closeByBtn();\n  }\n\n  function closeByEsc(event) {\n    if (event.code === 'Escape') {\n      backdrop.classList.remove('is-open');\n      document.removeEventListener('keydown', closeByEsc);\n      scrollController.enabledScroll();\n    }\n  }\n}\n\n// ---------------   functions of fixing body   ---------------\n\nconst scrollController = {\n  scrollPosition: 0,\n\n  disabledScroll() {\n    scrollController.scrollPosition = window.scrollY;\n    document.body.style.cssText = `\n      owerflow: hidden;\n      position: fixed;\n      top: -${scrollController.scrollPosition}px;\n      width: 100%;\n      height: 100%;\n  \n    `;\n    document.documentElement.style.scrollBehavior = 'unset';\n  },\n\n  enabledScroll() {\n    document.body.style.cssText = ``;\n    window.scroll({ top: scrollController.scrollPosition });\n    document.documentElement.style.scrollBehavior = '';\n  },\n};\n"],"names":["headerMenuToggle","menuModal","menuModalCloseButton","homeButton","favoritesButton","headerLogo","currentPage","upBtn","onScroll","scrollFunction","showUpBtn","hideUpBtn","openModalBtn","closeModalBtn","backdrop","modal","modalExerciseContent","loader","key","idExercisesModal","chooseButtonForModal","e","event","scrollController","createExersiceCard","modalClose","getData","axios","objDataOfExercise","drawExercisesModal","addAndRemoveFavorites","error","catchError","bodyPart","burnedCalories","description","equipmen","gifUrl","name","popularity","rating","target","time","ratingOfExercise","modalContentHtml","drawStars","text","textContainer","number","arrOfStars","i","errName","errText","iziToast","obj","addToFavoritesBtn","removeFromFavoritesBtn","item","changeBtnsAddRemove","removeExerciseFromFavoLS","addExerciseToFavoLS","arrFavouritesLS","itemExerciceById","closeByEsc","closeByBtn","closeByBackdrop"],"mappings":"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"}
{"version":3,"file":"commonHelpers2.js","sources":["../src/js/exercises-modal.js"],"sourcesContent":["import axios from 'axios';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst openModalBtn = document.querySelector('[data-modal-open]');\nconst closeModalBtn = document.querySelector('[data-modal-close]');\nconst modal = document.querySelector('[data-modal]');\n\nlet idExercisesModal = \"64f389465ae26083f39b17a2\";      // !!!взяти id з об'єкту відповіді запиту відповідної вправи в секції\n  \n\nopenModalBtn.addEventListener('click', () => {\n  modal.classList.add('is-open');\n  drawExercisesModal();\n  modalClose();\n});\n\n// ---------------   functions of geting datas from server   ---------------\n\nasync function getData() {\n  axios.defaults.baseURL = \"https://energyflow.b.goit.study\";\n  return await axios.get(`/api/exercises/${idExercisesModal}`);\n}\n\nasync function drawExercisesModal() { \n  try {\n      const response = await getData();\n      console.log(response.data);\n      const objDataOfExercise = response.data;\n      createExersiceCard(objDataOfExercise);\n  } catch(error) {\n      catchError(error);\n  // } finally {\n  //     loader.classList.remove(\"loader\");\n  }\n};\n\nfunction catchError(error) {\n  console.log(error);\n  const errName = error.name;\n  const errText = error.message;\n  iziToast.error({\n    position: 'topRight',\n    message: `${errName}: ${errText}.`\n  });\n}\n  \n// ---------------   functions of opening and closing of modal   ---------------\n\nfunction modalClose() {\n  document.addEventListener('keydown', closeByEsc);\n  closeModalBtn.addEventListener('click', closeByBtn);\n  modal.addEventListener('click', closeByBackdrop);\n\n  function closeByBtn() {\n    modal.classList.remove('is-open');\n  }\n\n  function closeByBackdrop(event) {\n    if (!event.target.hasAttribute('data-modal')) {\n      return;\n    }\n    closeByBtn();\n  }\n  \n  function closeByEsc(event) {\n    if (event.code === \"Escape\") {\n      modal.classList.remove('is-open');\n      document.removeEventListener('keydown', closeByEsc);\n    }\n  } \n}\n\n\n"],"names":["openModalBtn","closeModalBtn","modal","idExercisesModal","drawExercisesModal","modalClose","getData","axios","response","objDataOfExercise","error","catchError","errName","errText","iziToast","closeByEsc","closeByBtn","closeByBackdrop","event"],"mappings":"6vBAKA,MAAMA,EAAe,SAAS,cAAc,mBAAmB,EACzDC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAQ,SAAS,cAAc,cAAc,EAEnD,IAAIC,EAAmB,2BAGvBH,EAAa,iBAAiB,QAAS,IAAM,CAC3CE,EAAM,UAAU,IAAI,SAAS,EAC7BE,IACAC,GACF,CAAC,EAID,eAAeC,GAAU,CACvB,OAAAC,EAAM,SAAS,QAAU,kCAClB,MAAMA,EAAM,IAAI,kBAAkBJ,CAAgB,EAAE,CAC7D,CAEA,eAAeC,GAAqB,CAClC,GAAI,CACA,MAAMI,EAAW,MAAMF,IACvB,QAAQ,IAAIE,EAAS,IAAI,EACzB,MAAMC,EAAoBD,EAAS,KACnC,mBAAmBC,CAAiB,CACvC,OAAOC,EAAO,CACXC,EAAWD,CAAK,CAGnB,CACH,CAEA,SAASC,EAAWD,EAAO,CACzB,QAAQ,IAAIA,CAAK,EACjB,MAAME,EAAUF,EAAM,KAChBG,EAAUH,EAAM,QACtBI,EAAS,MAAM,CACb,SAAU,WACV,QAAS,GAAGF,CAAO,KAAKC,CAAO,GACnC,CAAG,CACH,CAIA,SAASR,GAAa,CACpB,SAAS,iBAAiB,UAAWU,CAAU,EAC/Cd,EAAc,iBAAiB,QAASe,CAAU,EAClDd,EAAM,iBAAiB,QAASe,CAAe,EAE/C,SAASD,GAAa,CACpBd,EAAM,UAAU,OAAO,SAAS,CACjC,CAED,SAASe,EAAgBC,EAAO,CACzBA,EAAM,OAAO,aAAa,YAAY,GAG3CF,GACD,CAED,SAASD,EAAWG,EAAO,CACrBA,EAAM,OAAS,WACjBhB,EAAM,UAAU,OAAO,SAAS,EAChC,SAAS,oBAAoB,UAAWa,CAAU,EAErD,CACH"}
import{c as H}from"./assets/exercises-modal-ac6fa363.js";import{a as p,i as T}from"./assets/vendor-8cce9181.js";let R=document.querySelector(".quote-text"),B=document.querySelector(".quote-author");p.defaults.baseURL="https://energyflow.b.goit.study/api";const k=new Date;if(localStorage.key!=="info")N("quote");else if(TimeInStorage!==k)localStorage.removeItem("info"),N("quote");else if(TimeInStorage===k){const e=JSON.parse(localStorage.getItem("info")),t=e.quote,s=e.author;R.textContent=t,B.textContent=s}async function N(e){const t={};t.date=new Date;const s=await p.get(`${e}`),{data:{quote:o,author:n}}=s;t.author=n,t.quote=o,localStorage.setItem("info",JSON.stringify(t));const a=JSON.parse(localStorage.getItem("info"));R.textContent=a.quote,B.textContent=a.author}const q="https://energyflow.b.goit.study/api/exercises",x="formValusForSearch",U=document.querySelector(".title-container"),D=document.querySelector(".placeholder-container"),u=document.querySelector(".placeholder-container"),m=document.querySelector(".training-search-form"),l=document.createElement("ul"),S=document.querySelector(".cansel-button-ex"),A=document.querySelector(".exercises-container"),f="sessionResultOfSearch",h="pastSearchParams";let _=Number(sessionStorage.getItem("activeSearchPage"))??0,i={group:"",item:"",keyWord:""};S.addEventListener("click",()=>{S.classList.add("display-none"),m.firstElementChild.value="",sessionStorage.removeItem(x)});l.classList.add("search-result-list");D.addEventListener("click",K);m.addEventListener("submit",Z);m.addEventListener("input",V);m.querySelector('[name="exercise-name"]').value=sessionStorage.getItem(x)??"";function j(){sessionStorage.removeItem(f),sessionStorage.removeItem(h),sessionStorage.removeItem("activeSearchPage")}function W(){A.classList.add("styles-for-ex-search-results")}function z(){A.classList.remove("styles-for-ex-search-results")}function Y(){m.classList.add("display-none"),U.innerHTML='<h2 class="exercises-title">Exercises</h2>'}function V(e){S.classList.remove("display-none"),sessionStorage.setItem(x,e.target.value)}async function Z(e){e.preventDefault(),S.classList.add("display-none"),i.keyWord=m.querySelector('[name="exercise-name"]').value.trim().toLowerCase().replace(/\s/g,""),m.querySelector('[name="exercise-name"]').value="",sessionStorage.removeItem(x),u.innerHTML='<p><span class="exercises-modal-loader"></span></p>';const{data:t}=await $(i,1);if(t.results.length===0){u.innerHTML="<p>Unfortunately, <span>no results</span> were found. You may want to consider other search options to find the exercise you are looking for.Our range is wide and you have the opportunity to find more options that suit your needs.</p>";return}sessionStorage.setItem(f,JSON.stringify(t)),sessionStorage.setItem(h,JSON.stringify(i)),M(t,i)}async function K(e){if(i.keyWord="",e.target.nodeName==="UL")return;let t;if(e.target.nodeName==="DIV"&&(e.target.classList.value===""||e.target.classList.value==="list-history")&&(t=e.target),e.target.nodeName==="SPAN"&&(e.target.classList.value===""||e.target.classList.value==="list-history")&&(t=e.target.parentNode),!t)return;i.group=t.lastElementChild.textContent,i.item=t.firstChild.textContent,u.innerHTML='<p><span class="exercises-modal-loader"></span></p>';const{data:s}=await $(i);if(!s.results){u.innerHTML="<p>Unfortunately, <span>no results</span> were found. You may want to consider other search options to find the exercise you are looking for.Our range is wide and you have the opportunity to find more options that suit your needs.</p>";return}sessionStorage.setItem(f,JSON.stringify(s)),sessionStorage.setItem(h,JSON.stringify(i)),M(s,i)}async function $({group:e,item:t,keyWord:s},o=1){let n=window.innerWidth<=1439?8:9;e=e.toLowerCase(),e==="body parts"&&(e=e.slice(0,e.length-1).replace(/\s/g,""));try{return s===""?await p.get(`${q}?${e.toLowerCase()}=${t.toLowerCase()}&page=${o}&limit=${n}`):await p.get(`${q}?${e.toLowerCase()}=${t.toLowerCase()}&keyword=${s}&page=${o}&limit=${n}`)}catch(a){T.error({position:"topRight",message:"Something went wrong. Our top bodybuilder scientists are already working on it."}),console.log(a)}}function J({results:e}){return e.map(({bodyPart:t,rating:s,name:o,target:n,burnedCalories:a,time:r,_id:c})=>`<li class=exercises-serch-result>
      <div class="rating-start-container">
        <div class="rating">
            <p class="workout">Workout</p>
            <div class="rating-cont">
                <p class="rating-num">${s.toFixed(1)}</p>
                <svg class="rating-star-svg" width="16" height="16">
                    <use href="/project-dev-hunters/assets/sprite-f8222074.svg#rating-star"></use>
                </svg>
            </div>
        </div>
        <div class="start-button-container">
            <button type="button" data-id=${c} data-exercise-modal-open>Start
                <svg class="start-svg" width="18" height="18">
                    <use href="/project-dev-hunters/assets/sprite-f8222074.svg#icon-arrow-right"></use>
                </svg>
            </button>
        </div>
      </div>
      <div class="info-about-exercise">
        <div class="exercise-name">
            <svg class="runnig-svg" width="24" height="24">
                <use href="/project-dev-hunters/assets/sprite-f8222074.svg#running-man"></use>
            </svg>
            <h2>${o[0].toUpperCase()+o.slice(1)}</h2>
        </div>
        <div class="additional-information">
            <p class=>Burned calories: <span class="info-from-back">${a} / ${r} min</span></p>
            <p class=>Body part: <span class="info-from-back">${t[0].toUpperCase()+t.slice(1)}</span></p>
            <p class=>Target: <span class="info-from-back">${n[0].toUpperCase()+n.slice(1)}</span></p>
        </div>
     
          </li>`).join("")}function F(e,{totalPages:t},s=0,o=7){if(t===1)return;const n=document.createElement("ul");n.classList.add("pagination-counter"),n.addEventListener("click",Q);let a;s==1?a=Number(s)-1:s==2?a=Number(s)-2:Number(s)==3?a=Number(s)-3:Number(s)>3?a=Number(s)-4:a=Number(s);let r=0;for(let c=a;c<o+Number(s);c++){r+=1;const g=document.createElement("li");if(g.textContent=c+1,g.classList.add("one-count"),n.append(g),(c+1==s||s===0&&c===0)&&g.classList.add("active-count"),c+1===t)break;if(r===7)break;sessionStorage.setItem("activeSearchPage",s)}e.after(n),e.classList.add("exercises-margin-for-pagin")}async function Q(e){if(e.target.nodeName==="UL")return;i.group===""&&(i={...JSON.parse(sessionStorage.getItem(h))}),u.innerHTML='<p><span class="exercises-modal-loader"></span></p>';const{data:t}=await $(i,e.target.textContent);G(t,e)}function G(e,t){l.innerHTML=J(e),u.innerHTML="",u.appendChild(l),F(l,e,t.target.textContent),W(),H()}function M(e,t,s){l.innerHTML=J(e),u.innerHTML="",u.appendChild(l),m.classList.remove("display-none"),U.innerHTML=`<h2 class="exercises-title">Exercises /</h2><p>${t.item[0].toUpperCase()+t.item.slice(1,t.item.length)}</p>`,F(l,e,s),e.totalPages>1?l.classList.add("additional-margin"):l.classList.remove("additional-margin"),W(),H()}function P(){const e=JSON.parse(sessionStorage.getItem(f));if(e===null)return;const t=JSON.parse(sessionStorage.getItem(h));M(e,t,_)}const X=localStorage.getItem("active-category"),y=document.getElementById(X),O=document.querySelectorAll(".choose-category-button"),d=document.querySelector(".placeholder-container"),ee="https://energyflow.b.goit.study/api/filters";let C=1;async function L(e,t){function s(){return window.innerWidth<768?8:12}try{const o=s(),n=await p.get(`${ee}?filter=${e}&page=${t}&limit=${o}`);return n.data.results.length?n.data:(console.error("No results found for this filter."),null)}catch(o){console.error("Error fetching images:",o)}}function te({imgUrl:e,name:t,filter:s}){return`<li class="list-item"><img class="list-image" src="${e}" data-source="${e}" loading="lazy" alt="${t}"><div class='list-history'>${t}<span>${s}</span></div></li>`}function v(e){if(e){let t="";e.results.forEach(o=>{t+=te(o)});let s=document.createElement("ul");s.classList.add("search-list"),s.innerHTML=t,d.innerHTML="",d.appendChild(s),d.insertAdjacentHTML("beforeend","<div id='pagination' class='tui-pagination'></div>")}else d.innerHTML="<p>Unfortunately, <span>no results</span> were found. You may want to consider other search options to find the exercise you are looking for.Our range is wide and you have the opportunity to find more options that suit your needs.</p>"}O.forEach(e=>{e.addEventListener("click",async()=>{Y(),z(),j(),O.forEach(s=>{s.classList.remove("active-category")}),e.classList.add("active-category"),localStorage.setItem("active-category",e.id);const t=e.innerText;d.innerHTML='<p class="loader"><span class="exercises-modal-loader"></span></p>',(async()=>{const s=await L(t,C);s&&(v(s),w(s))})()})});y&&sessionStorage.getItem(f)===null?(y.classList.add("active-category"),d.innerHTML='<p><span class="exercises-modal-loader"></span></p>',(async()=>{const e=await L(y.innerText,C);e&&(v(e),w(e))})()):sessionStorage.getItem(f)!==null?(y.classList.add("active-category"),P()):(document.getElementById("muscles").classList.add("active-category"),d.innerHTML='<p><span class="exercises-modal-loader"></span></p>',(async()=>{const t=await L("Muscles",C);t&&(v(t),w(t))})());function w({page:e,results:t,totalPages:s}){const o=document.querySelector("#pagination");for(let a=1;a<=s;a++){const r=document.createElement("a");r.href="#",a==e?r.classList.add("tui-page-btn","tui-is-selected"):r.classList.add("tui-page-btn"),r.textContent=a,r.addEventListener("click",c=>{const g=c.target.textContent;d.innerHTML='<p><span class="exercises-modal-loader"></span></p>',(async()=>{const b=await L(t[0].filter,g);b&&(v(b),w(b))})()}),o.appendChild(r)}const n=document.querySelectorAll(".tui-page-btn");n.forEach(a=>{a.addEventListener("click",r=>{r.preventDefault(),n.forEach(c=>{c.classList.remove("tui-is-selected")}),a.classList.add("tui-is-selected")})})}p.defaults.baseURL="https://energyflow.b.goit.study/api";const I={form:document.querySelector(".footer-form"),input:document.querySelector(".footer-form-input")};I.form.addEventListener("submit",se);async function se(e){e.preventDefault();const t=I.form.email.value.trim();try{if(!t){E("Oooops! You forgot to enter the email!");return}oe(t);const s=await ae(t);ne("Thank you for subscribing! We're excited to have you on board! ðŸŽ‰"),I.form.reset()}catch(s){s.response.status===409&&E("Sorry! This email has already been declarated!")}}async function ae(e){return(await p.post("subscription",{email:e})).data}function oe(e){let t=/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;if(e.match(t)===null)return E("Please, enter the correct email!")}function ne(e){T.show({message:e,backgroundColor:"rgba(246, 246, 246, 0.9)",messageColor:"rgba(0, 0, 0, 0.7)",maxWidth:300,position:"bottomRight",timeout:4e3,progressBar:!1,transitionIn:"bounceInBottom",transitionOut:"fadeOutRight",messageSize:14})}function E(e){T.show({message:e,backgroundColor:"rgba(205, 92, 92, 0.5)",messageColor:"rgba(0, 0, 0, 0.8)",maxWidth:300,position:"bottomRight",timeout:4e3,progressBar:!1,transitionIn:"bounceInBottom",transitionOut:"fadeOutRight",messageSize:14})}
//# sourceMappingURL=commonHelpers2.js.map
